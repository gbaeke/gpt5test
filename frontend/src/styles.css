/* Design tokens */
:root {
	--bg: #0b1220;
	--bg-alt: #131d33;
	--bg-elev: #1c2a43;
	--bg-glass: rgba(28,42,67,0.65);
	--border: #30425f;
	--border-strong: #4b5f7c;
	--text: #f1f5f9;
	--text-dim: #94a3b8;
	--brand: #2563eb;
	--brand-accent: #3b82f6;
	--accent: #9333ea;
	--danger: #dc2626;
	--radius-sm: 4px;
	--radius: 8px;
	--radius-lg: 14px;
	--shadow-sm: 0 2px 4px -2px rgba(0,0,0,.4);
	--shadow: 0 4px 18px -6px rgba(0,0,0,.55);
	--gradient: radial-gradient(circle at 20% 20%, #1d3660, #0b1220 65%);
	--focus-ring: 0 0 0 2px rgba(59,130,246,.55), 0 0 0 4px rgba(59,130,246,.25);
	font-synthesis: none;
	text-rendering: optimizeLegibility;
}

/* Global */
html, body { height:100%; }
body { font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Fira Sans', 'Droid Sans', 'Helvetica Neue', Arial, sans-serif; margin:0; background:var(--gradient); color:var(--text); -webkit-font-smoothing: antialiased; }

.app-container { max-width:1280px; margin:0 auto; padding:2rem clamp(1rem,3vw,3rem); }

h1 { font-size:clamp(1.9rem, 4vw, 2.8rem); margin:0 0 .25rem; letter-spacing:-1px; background:linear-gradient(90deg,#60a5fa,#a78bfa); -webkit-background-clip:text; color:transparent; }
.subtitle { margin:0 0 1.5rem; font-size:1rem; color:var(--text-dim); max-width:720px; line-height:1.35; }

/* Tabs */
.tabs-wrapper { position:relative; margin-bottom:1.25rem; }
.tabs { display:flex; gap:.5rem; flex-wrap:wrap; }
.tab-btn { position:relative; background:linear-gradient(145deg,#1b2940,#132034); color:var(--text-dim); border:1px solid var(--border); padding:.55rem 1rem; cursor:pointer; border-radius:var(--radius-sm); font-size:.85rem; font-weight:500; letter-spacing:.5px; transition:.25s ease; backdrop-filter:blur(6px); }
.tab-btn:hover { color:var(--text); background:linear-gradient(145deg,#22344f,#18283d); }
.tab-btn.active { color:#fff; background:linear-gradient(145deg,var(--accent),#6d28d9); border-color:#6d28d9; box-shadow:0 4px 14px -4px rgba(147,51,234,.55); }
.tab-btn:focus-visible { outline:none; box-shadow:var(--focus-ring); }

/* Panel */
.panel { position:relative; background:var(--bg-glass); border:1px solid var(--border); border-radius:var(--radius-lg); padding:1.5rem clamp(1.25rem,2vw,2rem); box-shadow:var(--shadow); backdrop-filter:blur(12px) saturate(1.3); animation:fadeIn .5s ease; }
@keyframes fadeIn { from {opacity:0; transform:translateY(6px);} to {opacity:1; transform:translateY(0);} }

/* Form elements */
textarea, input, select { width:100%; font-family:inherit; font-size:.9rem; background:#0f192b; border:1px solid var(--border); color:var(--text); border-radius:var(--radius-sm); padding:.55rem .65rem; line-height:1.35; box-shadow:inset 0 0 0 1px rgba(255,255,255,.02); transition:border-color .2s, background .25s; }
textarea { resize:vertical; min-height:70px; }
textarea:focus, input:focus, select:focus { outline:none; border-color:var(--brand-accent); box-shadow:0 0 0 1px var(--brand-accent); background:#132338; }
label { display:flex; flex-direction:column; gap:.35rem; font-size:.7rem; text-transform:uppercase; letter-spacing:.8px; font-weight:600; color:var(--text-dim); margin:0 0 .85rem; }
.form-row { display:flex; gap:1rem; flex-wrap:wrap; }

/* Buttons */
button { --btn-bg:var(--brand); --btn-bg-hover:var(--brand-accent); background:linear-gradient(145deg,var(--btn-bg),var(--btn-bg-hover)); border:none; color:#fff; padding:.6rem 1.1rem; border-radius:var(--radius-sm); font-weight:600; font-size:.8rem; letter-spacing:.75px; cursor:pointer; display:inline-flex; align-items:center; gap:.5rem; position:relative; transition:filter .25s, transform .15s; box-shadow:0 4px 14px -4px rgba(37,99,235,.55); }
button:hover { filter:brightness(1.05); }
button:active { transform:translateY(1px); }
button:disabled { opacity:.55; cursor:not-allowed; box-shadow:none; }
button.secondary { --btn-bg:#334155; --btn-bg-hover:#3e4f66; box-shadow:none; }
button.danger { --btn-bg:var(--danger); --btn-bg-hover:#ef4444; }

/* Data display */
.grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:1rem; margin-top:1.25rem; }
.card { background:linear-gradient(145deg,#162335,#0f1929); border:1px solid var(--border); padding:1rem 1rem .9rem; border-radius:var(--radius); position:relative; overflow:hidden; box-shadow:var(--shadow-sm); isolation:isolate; }
.card:before { content:""; position:absolute; inset:0; background:radial-gradient(circle at 25% 15%, rgba(59,130,246,.12), transparent 60%); opacity:.9; pointer-events:none; }
.card h3 { margin:.1rem 0 .5rem; font-size:.9rem; letter-spacing:.5px; font-weight:600; color:#e2e8f0; text-transform:uppercase; }
.card small { display:block; margin-bottom:.5rem; color:var(--text-dim); font-size:.65rem; letter-spacing:.8px; text-transform:uppercase; }
pre { font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; white-space:pre-wrap; word-break:break-word; background:#0b1626; padding:.75rem .85rem; border-radius:var(--radius-sm); max-height:340px; overflow:auto; font-size:.75rem; line-height:1.4; border:1px solid #1f3147; box-shadow:inset 0 0 0 1px rgba(255,255,255,.02); }

/* Footer */
footer { margin-top:2.5rem; font-size:.7rem; opacity:.55; text-align:left; letter-spacing:.6px; }
body.fi-open footer { visibility:hidden; }

/* Utility */
.muted { color:var(--text-dim); }
.inline-badge { display:inline-block; background:#1e293b; padding:.25rem .55rem; border-radius:999px; font-size:.65rem; font-weight:600; letter-spacing:.5px; text-transform:uppercase; border:1px solid var(--border); }

/* Spinner */
.spinner { width:16px; height:16px; border:3px solid rgba(255,255,255,.25); border-top-color:#fff; border-radius:50%; animation:spin 0.8s linear infinite; }
@keyframes spin { to { transform:rotate(360deg);} }

/* Animations */
.fade-in { animation:fadeIn .55s ease; }

/* Info Box */
.infobox { border:1px solid var(--border); border-radius:var(--radius); background:linear-gradient(145deg,#152337,#101a2a); margin:1.1rem 0 1.4rem; box-shadow:var(--shadow-sm); }
.infobox-toggle { all:unset; display:flex; width:100%; cursor:pointer; padding:.55rem .75rem; align-items:center; font-size:.58rem; letter-spacing:.85px; text-transform:uppercase; font-weight:600; color:var(--text-dim); background:linear-gradient(145deg,#172638,#111d2c); border-radius:var(--radius-sm); border:1px solid #22354d; position:relative; overflow:hidden; }
.infobox-toggle:focus-visible { outline:none; box-shadow:var(--focus-ring); }
.infobox-toggle:hover { color:var(--text); background:linear-gradient(145deg,#1d3147,#16273a); }
.infobox.open .infobox-toggle { color:#fff; background:linear-gradient(145deg,#233952,#1b2d44); border-color:#2f4863; }
.infobox-title { flex:1; text-align:left; font-weight:600; }
.chevron { width:18px; height:18px; border:2px solid #415974; border-left:0; border-top:0; transform:rotate(45deg); border-radius:2px; transition:transform .35s ease, border-color .3s; }
.infobox.open .chevron { transform:rotate(225deg); border-color:#5f85ac; }
.infobox-body { padding:.85rem .85rem .95rem; font-size:.75rem; line-height:1.55; color:var(--text-dim); border:1px solid #22354d; border-top:none; border-radius:0 0 var(--radius-sm) var(--radius-sm); background:#0f1926; animation:accordion .35s ease; }
@keyframes accordion { from { opacity:0; transform:translateY(-4px);} to { opacity:1; transform:translateY(0);} }
.infobox-body code { background:#0b1626; padding:.15rem .45rem; border-radius:4px; font-size:.64rem; border:1px solid #1f3147; }

/* Scrollbar styling (webkit) */
pre::-webkit-scrollbar { width:9px; }
pre::-webkit-scrollbar-track { background:#0b1626; }
pre::-webkit-scrollbar-thumb { background:#1e2d44; border-radius:20px; }
pre::-webkit-scrollbar-thumb:hover { background:#25354e; }

/* FeatureInfo popover */
.feature-info-inline { display:flex; align-items:center; gap:.75rem; margin:.25rem 0 1rem; }
.feature-info-btn { background:linear-gradient(145deg,#22364f,#16263a); border:1px solid #34516d; height:38px; padding:0 .95rem; display:inline-flex; align-items:center; gap:.55rem; border-radius:999px; color:#9dbfe5; cursor:pointer; font-size:.75rem; font-weight:600; letter-spacing:.6px; transition:.25s; }
.feature-info-btn.large { font-size:.72rem; }
.feature-info-btn:hover { color:#fff; background:linear-gradient(145deg,#2b4a69,#1d3247); }
.feature-info-btn:focus-visible { outline:none; box-shadow:var(--focus-ring); }
.feature-info-btn svg { flex-shrink:0; }
.fi-label { text-transform:uppercase; }

/* Modal overlay */
.feature-info-overlay { position:fixed; inset:0; background:rgba(8,13,22,.72); backdrop-filter:blur(6px) saturate(1.2); display:flex; align-items:flex-start; justify-content:center; padding:4.5rem 1.25rem 2rem; z-index:200; animation:fadeIn .3s ease; }
.feature-info-modal { width:min(900px, 100%); background:#0f1924; border:1px solid #2d465f; border-radius:18px; box-shadow:0 14px 60px -20px rgba(0,0,0,.75); display:flex; flex-direction:column; max-height:calc(100vh - 6rem); overflow:hidden; }
.fim-head { padding:1rem 1.25rem .85rem; border-bottom:1px solid #22384f; display:flex; align-items:center; justify-content:space-between; }
.fim-head h3 { margin:0; font-size:1rem; letter-spacing:.5px; background:linear-gradient(90deg,#60a5fa,#a78bfa); -webkit-background-clip:text; background-clip:text; color:transparent; }
.fim-body { padding:1rem 1.25rem 1.4rem; overflow:auto; }
.fim-body .fi-desc { font-size:.85rem; line-height:1.55; margin:.1rem 0 1rem; color:var(--text-dim); }
.fim-body pre { margin:0; font-size:.7rem; max-height:420px; }
.code-shell { border:1px solid #22354c; background:#0b1626; border-radius:10px; padding:.7rem .8rem; }
.close-btn { background:#1c2d41; border:1px solid #314a63; color:#b3d4f4; cursor:pointer; font-size:.95rem; line-height:1; padding:.35rem .6rem .4rem; border-radius:8px; font-weight:600; letter-spacing:.5px; transition:.25s; }
.close-btn:hover { background:#2b455f; color:#fff; }

.visually-hidden { position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0 0 0 0); border:0; }
